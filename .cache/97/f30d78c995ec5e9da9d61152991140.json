{"id":"o0DO","dependencies":[{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/faceRecognitionNet/residualLayer.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/src/faceRecognitionNet/residualLayer.ts","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/package.json","includedInParent":true,"mtime":1568572563000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/package.json","includedInParent":true,"mtime":1568569762542},{"name":"@tensorflow/tfjs-core","loc":{"line":1,"column":20},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/faceRecognitionNet/residualLayer.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"},{"name":"./convLayer","loc":{"line":2,"column":43},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/faceRecognitionNet/residualLayer.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/faceRecognitionNet/convLayer.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.residual=n,exports.residualDown=a;var e=o(require(\"@tensorflow/tfjs-core\")),r=require(\"./convLayer\");function t(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function o(e){if(e&&e.__esModule)return e;var r=t();if(r&&r.has(e))return r.get(e);var o={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=n?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}}return o.default=e,r&&r.set(e,o),o}function n(t,o){var n=(0,r.conv)(t,o.conv1);return n=(0,r.convNoRelu)(n,o.conv2),n=e.add(n,t),n=e.relu(n)}function a(t,o){var n=(0,r.convDown)(t,o.conv1);n=(0,r.convNoRelu)(n,o.conv2);var a=e.avgPool(t,2,2,\"valid\"),c=e.zeros(a.shape),s=a.shape[3]!==n.shape[3];if(a.shape[1]!==n.shape[1]||a.shape[2]!==n.shape[2]){var u=n.shape.slice();u[1]=1;var i=e.zeros(u),p=(n=e.concat([n,i],1)).shape.slice();p[2]=1;var v=e.zeros(p);n=e.concat([n,v],2)}return a=s?e.concat([a,c],3):a,n=e.add(a,n),n=e.relu(n)}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":85}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":87}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":95}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":108}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":110}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":114}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":116}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":118}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":126}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":154}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":162}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":177}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":186}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":190}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":193}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":212}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":220}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":227}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":232}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":236}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":238}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":242}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":250}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":257}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":259}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":270}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":277}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":280}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":282}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":291}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":293}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":296}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":299}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":302}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":304}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":315}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":322}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":324}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":328}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":330}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":334}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":337}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":340}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":342}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":346}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":349}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":356}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":358}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":362}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":365}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":369}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":371}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":374}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":377}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":383}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":385}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":386}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":390}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":392}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":399}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":415}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":422}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":447}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":451}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":455}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":460}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":462}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":465}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":472}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":482}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":497}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":502}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":504}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":507}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":508}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":512}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":514}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":516}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":523}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":548}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":550}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":553}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":558}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":562}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":564}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":569}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":571}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":576}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":583}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":598}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":600}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":602}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":605}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":607}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":610}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":612}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":616}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":623}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":625}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":633}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":635}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":638}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":640}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":644}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":646}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":40,"column":1},"generated":{"line":1,"column":649}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":6,"column":6},"generated":{"line":1,"column":651}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":6,"column":16},"generated":{"line":1,"column":660}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":6,"column":25},"generated":{"line":1,"column":662}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":6,"column":41},"generated":{"line":1,"column":664}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":667}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":671}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":7,"column":12},"generated":{"line":1,"column":674}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":7,"column":17},"generated":{"line":1,"column":676}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":7,"column":17},"generated":{"line":1,"column":678}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":7,"column":17},"generated":{"line":1,"column":684}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":7,"column":20},"generated":{"line":1,"column":686}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":7,"column":27},"generated":{"line":1,"column":688}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":695}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":702}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":8,"column":8},"generated":{"line":1,"column":705}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":8,"column":19},"generated":{"line":1,"column":707}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":8,"column":19},"generated":{"line":1,"column":709}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":8,"column":19},"generated":{"line":1,"column":721}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":8,"column":24},"generated":{"line":1,"column":723}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":8,"column":31},"generated":{"line":1,"column":725}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":732}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":734}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":9,"column":11},"generated":{"line":1,"column":736}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":9,"column":15},"generated":{"line":1,"column":740}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":9,"column":20},"generated":{"line":1,"column":742}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":745}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":1,"column":747}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":10,"column":11},"generated":{"line":1,"column":749}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":10,"column":16},"generated":{"line":1,"column":754}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":14,"column":6},"generated":{"line":1,"column":757}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":14,"column":16},"generated":{"line":1,"column":766}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":14,"column":29},"generated":{"line":1,"column":768}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":14,"column":45},"generated":{"line":1,"column":770}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":1,"column":773}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":1,"column":777}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":15,"column":12},"generated":{"line":1,"column":780}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":15,"column":21},"generated":{"line":1,"column":782}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":15,"column":21},"generated":{"line":1,"column":784}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":15,"column":21},"generated":{"line":1,"column":794}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":15,"column":24},"generated":{"line":1,"column":796}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":15,"column":31},"generated":{"line":1,"column":798}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":805}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":808}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":16,"column":19},"generated":{"line":1,"column":810}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":16,"column":19},"generated":{"line":1,"column":812}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":16,"column":19},"generated":{"line":1,"column":824}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":16,"column":24},"generated":{"line":1,"column":826}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":16,"column":31},"generated":{"line":1,"column":828}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":835}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":839}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":18,"column":15},"generated":{"line":1,"column":841}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":18,"column":18},"generated":{"line":1,"column":843}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":18,"column":26},"generated":{"line":1,"column":851}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":18,"column":29},"generated":{"line":1,"column":853}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":18,"column":32},"generated":{"line":1,"column":855}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":18,"column":35},"generated":{"line":1,"column":857}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":866}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":19,"column":16},"generated":{"line":1,"column":868}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":19,"column":19},"generated":{"line":1,"column":870}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":19,"column":37},"generated":{"line":1,"column":876}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":19,"column":44},"generated":{"line":1,"column":878}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":885}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":20,"column":16},"generated":{"line":1,"column":887}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":20,"column":23},"generated":{"line":1,"column":889}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":20,"column":29},"generated":{"line":1,"column":895}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":20,"column":36},"generated":{"line":1,"column":900}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":20,"column":40},"generated":{"line":1,"column":902}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":20,"column":46},"generated":{"line":1,"column":908}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":23,"column":6},"generated":{"line":1,"column":911}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":24},"generated":{"line":1,"column":914}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":916}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":37},"generated":{"line":1,"column":922}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":44},"generated":{"line":1,"column":927}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":48},"generated":{"line":1,"column":929}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":54},"generated":{"line":1,"column":935}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":60},"generated":{"line":1,"column":939}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":67},"generated":{"line":1,"column":941}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":73},"generated":{"line":1,"column":947}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":80},"generated":{"line":1,"column":952}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":84},"generated":{"line":1,"column":954}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":21,"column":90},"generated":{"line":1,"column":960}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":23,"column":21},"generated":{"line":1,"column":963}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":964}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":968}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":24,"column":26},"generated":{"line":1,"column":970}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":24,"column":30},"generated":{"line":1,"column":972}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":24,"column":35},"generated":{"line":1,"column":978}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":986}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":25,"column":14},"generated":{"line":1,"column":988}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":25,"column":19},"generated":{"line":1,"column":991}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":993}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":997}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":999}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":1,"column":1001}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":26,"column":40},"generated":{"line":1,"column":1007}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":1010}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":1013}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":1015}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":1017}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":27,"column":20},"generated":{"line":1,"column":1024}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":1,"column":1025}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":27,"column":26},"generated":{"line":1,"column":1027}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":27,"column":35},"generated":{"line":1,"column":1030}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":29,"column":30},"generated":{"line":1,"column":1034}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":29,"column":35},"generated":{"line":1,"column":1040}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":1048}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":30,"column":14},"generated":{"line":1,"column":1050}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":1,"column":1053}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":1055}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":1059}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":1061}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":1,"column":1063}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":31,"column":40},"generated":{"line":1,"column":1069}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":1072}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":1074}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":1076}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":32,"column":20},"generated":{"line":1,"column":1083}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":32,"column":21},"generated":{"line":1,"column":1084}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":32,"column":26},"generated":{"line":1,"column":1086}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":32,"column":35},"generated":{"line":1,"column":1089}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":1092}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":1099}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":35,"column":11},"generated":{"line":1,"column":1101}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":35,"column":19},"generated":{"line":1,"column":1103}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":35,"column":22},"generated":{"line":1,"column":1105}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":35,"column":29},"generated":{"line":1,"column":1112}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":35,"column":30},"generated":{"line":1,"column":1113}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":35,"column":38},"generated":{"line":1,"column":1115}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":35,"column":46},"generated":{"line":1,"column":1118}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":35,"column":51},"generated":{"line":1,"column":1121}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":1123}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":1125}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":1127}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":36,"column":15},"generated":{"line":1,"column":1131}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":1,"column":1133}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":1136}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":1138}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":1,"column":1140}},{"source":"../../../src/faceRecognitionNet/residualLayer.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":1145}}],"sources":{"../../../src/faceRecognitionNet/residualLayer.ts":"import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { conv, convDown, convNoRelu } from './convLayer';\r\nimport { ResidualLayerParams } from './types';\r\n\r\nexport function residual(x: tf.Tensor4D, params: ResidualLayerParams): tf.Tensor4D {\r\n  let out = conv(x, params.conv1)\r\n  out = convNoRelu(out, params.conv2)\r\n  out = tf.add(out, x)\r\n  out = tf.relu(out)\r\n  return out\r\n}\r\n\r\nexport function residualDown(x: tf.Tensor4D, params: ResidualLayerParams): tf.Tensor4D {\r\n  let out = convDown(x, params.conv1)\r\n  out = convNoRelu(out, params.conv2)\r\n\r\n  let pooled = tf.avgPool(x, 2, 2, 'valid') as tf.Tensor4D\r\n  const zeros = tf.zeros<tf.Rank.R4>(pooled.shape)\r\n  const isPad = pooled.shape[3] !== out.shape[3]\r\n  const isAdjustShape = pooled.shape[1] !== out.shape[1] || pooled.shape[2] !== out.shape[2]\r\n\r\n  if (isAdjustShape) {\r\n    const padShapeX = [...out.shape] as [number, number, number, number]\r\n    padShapeX[1] = 1\r\n    const zerosW = tf.zeros<tf.Rank.R4>(padShapeX)\r\n    out = tf.concat([out, zerosW], 1)\r\n\r\n    const padShapeY = [...out.shape] as [number, number, number, number]\r\n    padShapeY[2] = 1\r\n    const zerosH = tf.zeros<tf.Rank.R4>(padShapeY)\r\n    out = tf.concat([out, zerosH], 2)\r\n  }\r\n\r\n  pooled = isPad ? tf.concat([pooled, zeros], 3) : pooled\r\n  out = tf.add(pooled, out) as tf.Tensor4D\r\n\r\n  out = tf.relu(out)\r\n  return out\r\n}"},"lineCount":null}},"error":null,"hash":"5680a63a4c9e33ff99d6545ac2629cac","cacheData":{"env":{}}}