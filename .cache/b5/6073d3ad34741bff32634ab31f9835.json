{"id":"8Voc","dependencies":[{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/globalApi/FaceMatcher.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/src/globalApi/FaceMatcher.ts","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/package.json","includedInParent":true,"mtime":1569536665846},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/package.json","includedInParent":true,"mtime":1568569762542},{"name":"../classes/FaceMatch","loc":{"line":1,"column":26},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/globalApi/FaceMatcher.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/classes/FaceMatch.js"},{"name":"../classes/LabeledFaceDescriptors","loc":{"line":2,"column":39},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/globalApi/FaceMatcher.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/classes/LabeledFaceDescriptors.js"},{"name":"../euclideanDistance","loc":{"line":3,"column":34},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/globalApi/FaceMatcher.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/euclideanDistance.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.FaceMatcher=void 0;var e=require(\"../classes/FaceMatch\"),r=require(\"../classes/LabeledFaceDescriptors\"),t=require(\"../euclideanDistance\"),c=function(){function c(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var c=Array.isArray(e)?e:[e];if(!c.length)throw new Error(\"FaceRecognizer.constructor - expected atleast one input\");var n=1,a=function(){return\"person \"+n++};this._labeledDescriptors=c.map(function(e){if(e instanceof r.LabeledFaceDescriptors)return e;if(e instanceof Float32Array)return new r.LabeledFaceDescriptors(a(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new r.LabeledFaceDescriptors(a(),[e.descriptor]);throw new Error(\"FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>\")})}return Object.defineProperty(c.prototype,\"labeledDescriptors\",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,\"distanceThreshold\",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),c.prototype.computeMeanDistance=function(e,r){return r.map(function(r){return(0,t.euclideanDistance)(r,e)}).reduce(function(e,r){return e+r},0)/(r.length||1)},c.prototype.matchDescriptor=function(r){var t=this;return this.labeledDescriptors.map(function(c){var n=c.descriptors,a=c.label;return new e.FaceMatch(a,t.computeMeanDistance(r,n))}).reduce(function(e,r){return e.distance<r.distance?e:r})},c.prototype.findBestMatch=function(r){var t=this.matchDescriptor(r);return t.distance<this.distanceThreshold?t:new e.FaceMatch(\"unknown\",t.distance)},c}();exports.FaceMatcher=c;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":93}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":133}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":135}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":143}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":214}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":216}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":227}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":236}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":1,"column":238}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":240}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":248}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":252}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":256}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":258}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":262}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":267}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":286}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":288}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":292}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":18,"column":23},"generated":{"line":1,"column":294}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":18,"column":29},"generated":{"line":1,"column":300}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":18,"column":37},"generated":{"line":1,"column":308}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":18,"column":47},"generated":{"line":1,"column":311}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":18,"column":56},"generated":{"line":1,"column":313}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":18,"column":57},"generated":{"line":1,"column":314}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":317}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":1,"column":321}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":20,"column":20},"generated":{"line":1,"column":323}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":1,"column":330}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":1,"column":336}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":1,"column":340}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":21,"column":22},"generated":{"line":1,"column":346}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":405}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":409}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":411}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":413}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":25,"column":30},"generated":{"line":1,"column":415}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":25,"column":36},"generated":{"line":1,"column":426}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":25,"column":36},"generated":{"line":1,"column":432}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":25,"column":46},"generated":{"line":1,"column":442}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":447}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":452}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":27,"column":31},"generated":{"line":1,"column":472}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":27,"column":42},"generated":{"line":1,"column":474}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":27,"column":46},"generated":{"line":1,"column":478}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":27,"column":47},"generated":{"line":1,"column":487}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":490}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":493}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":28,"column":26},"generated":{"line":1,"column":506}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":1,"column":508}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":29,"column":15},"generated":{"line":1,"column":531}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":29,"column":15},"generated":{"line":1,"column":538}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":540}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":543}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":32,"column":26},"generated":{"line":1,"column":556}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":33,"column":15},"generated":{"line":1,"column":569}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":33,"column":15},"generated":{"line":1,"column":576}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":1,"column":580}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":33,"column":15},"generated":{"line":1,"column":582}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":33,"column":42},"generated":{"line":1,"column":605}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":33,"column":63},"generated":{"line":1,"column":609}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":33,"column":64},"generated":{"line":1,"column":610}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":614}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":617}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":36,"column":15},"generated":{"line":1,"column":619}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":1,"column":631}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":36,"column":34},"generated":{"line":1,"column":633}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":36,"column":56},"generated":{"line":1,"column":655}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":37,"column":15},"generated":{"line":1,"column":668}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":37,"column":15},"generated":{"line":1,"column":675}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":37,"column":19},"generated":{"line":1,"column":679}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":37,"column":15},"generated":{"line":1,"column":681}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":37,"column":42},"generated":{"line":1,"column":704}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":37,"column":63},"generated":{"line":1,"column":708}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":37,"column":64},"generated":{"line":1,"column":709}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":37,"column":69},"generated":{"line":1,"column":711}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":724}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":730}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":40,"column":16},"generated":{"line":1,"column":734}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":740}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":941}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":948}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":955}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":970}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":972}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":982}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":1003}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":1004}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":1008}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":69},"generated":{"line":1,"column":1019}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":69},"generated":{"line":1,"column":1026}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":74},"generated":{"line":1,"column":1031}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":1052}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":1064}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1066}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1080}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":1084}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":1091}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":1106}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":1108}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":1118}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":1,"column":1138}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":1139}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":1143}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":50},"generated":{"line":1,"column":1154}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":50},"generated":{"line":1,"column":1161}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":55},"generated":{"line":1,"column":1166}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":1,"column":1186}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":1,"column":1198}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1200}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1214}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":47,"column":9},"generated":{"line":1,"column":1218}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":47,"column":9},"generated":{"line":1,"column":1220}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":47,"column":9},"generated":{"line":1,"column":1230}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":1250}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":47,"column":29},"generated":{"line":1,"column":1259}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":47,"column":60},"generated":{"line":1,"column":1261}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":1,"column":1264}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":1,"column":1271}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":49,"column":7},"generated":{"line":1,"column":1273}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":1,"column":1277}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":1,"column":1286}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":49,"column":16},"generated":{"line":1,"column":1289}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":49,"column":16},"generated":{"line":1,"column":1296}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":49,"column":34},"generated":{"line":1,"column":1298}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":49,"column":34},"generated":{"line":1,"column":1300}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":49,"column":34},"generated":{"line":1,"column":1319}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":49,"column":37},"generated":{"line":1,"column":1321}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":50,"column":7},"generated":{"line":1,"column":1326}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":1,"column":1333}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":1,"column":1342}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":50,"column":19},"generated":{"line":1,"column":1344}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":50,"column":26},"generated":{"line":1,"column":1347}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":50,"column":26},"generated":{"line":1,"column":1354}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":50,"column":31},"generated":{"line":1,"column":1356}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":50,"column":35},"generated":{"line":1,"column":1359}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":51,"column":11},"generated":{"line":1,"column":1363}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":51,"column":23},"generated":{"line":1,"column":1365}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":51,"column":33},"generated":{"line":1,"column":1373}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":54,"column":9},"generated":{"line":1,"column":1377}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":54,"column":9},"generated":{"line":1,"column":1379}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":54,"column":9},"generated":{"line":1,"column":1389}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":1405}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":54,"column":25},"generated":{"line":1,"column":1414}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":1417}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":1421}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":1423}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":55,"column":11},"generated":{"line":1,"column":1428}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":55,"column":11},"generated":{"line":1,"column":1435}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":55,"column":16},"generated":{"line":1,"column":1440}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":7},"generated":{"line":1,"column":1459}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":1463}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":1472}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":14},"generated":{"line":1,"column":1475}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":14},"generated":{"line":1,"column":1479}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":14},"generated":{"line":1,"column":1481}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":14},"generated":{"line":1,"column":1483}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":27},"generated":{"line":1,"column":1495}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":27},"generated":{"line":1,"column":1497}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":27},"generated":{"line":1,"column":1499}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":39},"generated":{"line":1,"column":1505}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":39},"generated":{"line":1,"column":1512}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":43},"generated":{"line":1,"column":1516}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":56,"column":39},"generated":{"line":1,"column":1518}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":1528}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":1530}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":58,"column":15},"generated":{"line":1,"column":1532}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":58,"column":35},"generated":{"line":1,"column":1552}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":58,"column":52},"generated":{"line":1,"column":1554}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":7},"generated":{"line":1,"column":1560}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":14},"generated":{"line":1,"column":1567}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":15},"generated":{"line":1,"column":1576}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":21},"generated":{"line":1,"column":1578}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":30},"generated":{"line":1,"column":1581}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":30},"generated":{"line":1,"column":1588}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":35},"generated":{"line":1,"column":1590}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":46},"generated":{"line":1,"column":1599}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":51},"generated":{"line":1,"column":1601}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":62},"generated":{"line":1,"column":1610}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":60,"column":69},"generated":{"line":1,"column":1612}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":1617}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":1619}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":1629}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":1,"column":1643}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":63,"column":23},"generated":{"line":1,"column":1652}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":1655}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":1659}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":64,"column":22},"generated":{"line":1,"column":1661}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":64,"column":27},"generated":{"line":1,"column":1666}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":64,"column":43},"generated":{"line":1,"column":1682}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":1685}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":1692}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":1,"column":1694}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":65,"column":32},"generated":{"line":1,"column":1703}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":65,"column":37},"generated":{"line":1,"column":1708}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":1726}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":1,"column":1728}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":67,"column":12},"generated":{"line":1,"column":1732}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":1,"column":1734}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":67,"column":22},"generated":{"line":1,"column":1744}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":67,"column":33},"generated":{"line":1,"column":1754}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":67,"column":43},"generated":{"line":1,"column":1756}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":1767}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1769}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1772}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1780}},{"source":"../../../src/globalApi/FaceMatcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1792}}],"sources":{"../../../src/globalApi/FaceMatcher.ts":"import { FaceMatch } from '../classes/FaceMatch';\r\nimport { LabeledFaceDescriptors } from '../classes/LabeledFaceDescriptors';\r\nimport { euclideanDistance } from '../euclideanDistance';\r\nimport { WithFaceDescriptor } from '../factories';\r\n\r\nexport class FaceMatcher {\r\n\r\n  private _labeledDescriptors: LabeledFaceDescriptors[]\r\n  private _distanceThreshold: number\r\n\r\n  constructor(\r\n    inputs: LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>,\r\n    distanceThreshold: number = 0.6\r\n  ) {\r\n\r\n    this._distanceThreshold = distanceThreshold\r\n\r\n    const inputArray = Array.isArray(inputs) ? inputs : [inputs]\r\n\r\n    if (!inputArray.length) {\r\n      throw new Error(`FaceRecognizer.constructor - expected atleast one input`)\r\n    }\r\n\r\n    let count = 1\r\n    const createUniqueLabel = () => `person ${count++}`\r\n\r\n    this._labeledDescriptors = inputArray.map((desc) => {\r\n      if (desc instanceof LabeledFaceDescriptors) {\r\n        return desc\r\n      }\r\n\r\n      if (desc instanceof Float32Array) {\r\n        return new LabeledFaceDescriptors(createUniqueLabel(), [desc])\r\n      }\r\n\r\n      if (desc.descriptor && desc.descriptor instanceof Float32Array) {\r\n        return new LabeledFaceDescriptors(createUniqueLabel(), [desc.descriptor])\r\n      }\r\n\r\n      throw new Error(`FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>`)\r\n    })\r\n  }\r\n\r\n  public get labeledDescriptors(): LabeledFaceDescriptors[] { return this._labeledDescriptors }\r\n  public get distanceThreshold(): number { return this._distanceThreshold }\r\n\r\n  public computeMeanDistance(queryDescriptor: Float32Array, descriptors: Float32Array[]): number {\r\n    return descriptors\r\n      .map(d => euclideanDistance(d, queryDescriptor))\r\n      .reduce((d1, d2) => d1 + d2, 0)\r\n        / (descriptors.length || 1)\r\n  }\r\n\r\n  public matchDescriptor(queryDescriptor: Float32Array): FaceMatch {\r\n    return this.labeledDescriptors\r\n      .map(({ descriptors, label }) => new FaceMatch(\r\n          label,\r\n          this.computeMeanDistance(queryDescriptor, descriptors)\r\n      ))\r\n      .reduce((best, curr) => best.distance < curr.distance ? best : curr)\r\n  }\r\n\r\n  public findBestMatch(queryDescriptor: Float32Array): FaceMatch {\r\n    const bestMatch = this.matchDescriptor(queryDescriptor)\r\n    return bestMatch.distance < this.distanceThreshold\r\n      ? bestMatch\r\n      : new FaceMatch('unknown', bestMatch.distance)\r\n  }\r\n\r\n}"},"lineCount":null}},"error":null,"hash":"3144ddc7df2f69b94fa8594b44602e4e","cacheData":{"env":{}}}