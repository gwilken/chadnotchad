{"id":"epB2","dependencies":[{"name":"/Users/gregwilken/code/chadnotchad/.babelrc","includedInParent":true,"mtime":1568502470146},{"name":"/Users/gregwilken/code/chadnotchad/package.json","includedInParent":true,"mtime":1569536665846},{"name":"./styles/main.scss","loc":{"line":1,"column":7},"parent":"/Users/gregwilken/code/chadnotchad/src/main.js","resolved":"/Users/gregwilken/code/chadnotchad/src/styles/main.scss"},{"name":"face-api.js","loc":{"line":2,"column":25},"parent":"/Users/gregwilken/code/chadnotchad/src/main.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/index.js"},{"name":"./utils/docReady","loc":{"line":3,"column":25},"parent":"/Users/gregwilken/code/chadnotchad/src/main.js","resolved":"/Users/gregwilken/code/chadnotchad/src/utils/docReady.js"},{"name":"./scripts/logo","loc":{"line":4,"column":27},"parent":"/Users/gregwilken/code/chadnotchad/src/main.js","resolved":"/Users/gregwilken/code/chadnotchad/src/scripts/logo.js"},{"name":"axios","loc":{"line":6,"column":22},"parent":"/Users/gregwilken/code/chadnotchad/src/main.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/axios/index.js"}],"generated":{"js":"\"use strict\";require(\"./styles/main.scss\");var e=r(require(\"face-api.js\")),t=require(\"./utils/docReady\"),a=require(\"./scripts/logo\");function n(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function r(e){if(e&&e.__esModule)return e;var t=n();if(t&&t.has(e))return t.get(e);var a={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}}return a.default=e,t&&t.set(e,a),a}const o=require(\"axios\"),c=\"./models\",i={minFaceSize:100};(0,t.docReady)(async()=>{l(),(0,a.consoleArt)()});const s=()=>{document.querySelector(\"body\").classList.add(\"party-on\")},l=async()=>{const t=document.getElementById(\"inputVideo\"),a=document.getElementById(\"overlay\"),n=a.getContext(\"2d\"),r=document.getElementById(\"status\");r.innerHTML=\"Model loading...\",await e.loadSsdMobilenetv1Model(c),await e.loadFaceLandmarkModel(c),await e.loadMtcnnModel(c),await e.loadFaceRecognitionModel(c);let s=await o.get(\"/data.json\");r.innerHTML=\"Face Descriptors loading...\";let l=await Promise.all(s.data.map(async t=>{let a=new Float32Array(Object.values(t._descriptors[0]));return new e.LabeledFaceDescriptors(t._label,[a])}));r.innerHTML=\"Connecting video...\",navigator.getUserMedia({video:{}},e=>t.srcObject=e,e=>console.error(e)),r.innerHTML=\"Face matcher loading...\";const d=new e.MtcnnOptions(i),u=new e.FaceMatcher(l,.6),y=async()=>{r.innerHTML=\"Are you Chad? Detecting...\";const o=await e.detectAllFaces(t,d).withFaceLandmarks().withFaceDescriptors();let c;if(o&&o.forEach(r=>{n.clearRect(0,0,640,480);let o=e.matchDimensions(t,a),i=e.resizeResults(r,o);const s=u.findBestMatch(i.descriptor),l=i.detection.box;let d=s.label;\"chad\"!==(c=d.slice(0,-2))&&(d=`not chad - ${c}?`),new e.draw.DrawBox(l,{label:d,lineWidth:2,boxColor:\"yellow\",drawLabelOptions:{fontColor:\"black\",fontSize:36,fontStyle:\"Pacifico\",padding:6}}).draw(a)}),\"chad\"!==c)requestAnimationFrame(y);else{document.querySelector(\"body\").classList.add(\"chad-detected\"),r.innerHTML=\"It's Chad!\",setTimeout(()=>{document.querySelector(\"body\").classList.add(\"party-on\")},2e3)}};t.onplay=y};"},"sourceMaps":{"js":{"mappings":[{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":0}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":43}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":47}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":49}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":51}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":59}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":75}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":77}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":85}},{"source":"main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":105}},{"source":"main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":107}},{"source":"main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":115}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":133}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":142}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":146}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":149}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":168}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":176}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":183}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":188}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":192}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":194}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":198}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":206}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":213}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":215}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":226}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":233}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":236}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":238}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":247}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":249}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":252}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":255}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":258}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":260}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":271}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":278}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":280}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":284}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":286}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":290}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":293}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":296}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":298}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":302}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":305}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":312}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":314}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":318}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":321}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":325}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":327}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":330}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":333}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":339}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":341}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":342}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":346}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":348}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":355}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":371}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":378}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":403}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":407}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":411}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":416}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":418}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":421}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":428}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":438}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":453}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":458}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":460}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":463}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":464}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":468}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":470}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":472}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":479}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":504}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":506}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":509}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":514}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":518}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":520}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":525}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":527}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":532}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":539}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":554}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":556}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":558}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":561}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":563}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":566}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":568}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":572}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":579}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":581}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":589}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":591}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":594}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":596}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":600}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":602}},{"source":"main.js","original":{"line":24,"column":0},"generated":{"line":1,"column":605}},{"source":"main.js","original":{"line":6,"column":0},"generated":{"line":1,"column":607}},{"source":"main.js","name":"axios","original":{"line":6,"column":6},"generated":{"line":1,"column":613}},{"source":"main.js","name":"require","original":{"line":6,"column":14},"generated":{"line":1,"column":615}},{"source":"main.js","original":{"line":6,"column":22},"generated":{"line":1,"column":623}},{"source":"main.js","name":"MODEL_URL","original":{"line":8,"column":6},"generated":{"line":1,"column":632}},{"source":"main.js","original":{"line":8,"column":18},"generated":{"line":1,"column":634}},{"source":"main.js","name":"MTCNN_OPTIONS","original":{"line":9,"column":6},"generated":{"line":1,"column":645}},{"source":"main.js","original":{"line":9,"column":22},"generated":{"line":1,"column":647}},{"source":"main.js","name":"minFaceSize","original":{"line":9,"column":24},"generated":{"line":1,"column":648}},{"source":"main.js","original":{"line":9,"column":37},"generated":{"line":1,"column":660}},{"source":"main.js","original":{"line":12,"column":0},"generated":{"line":1,"column":666}},{"source":"main.js","original":{"line":12,"column":10},"generated":{"line":1,"column":668}},{"source":"main.js","original":{"line":12,"column":10},"generated":{"line":1,"column":670}},{"source":"main.js","original":{"line":12,"column":10},"generated":{"line":1,"column":680}},{"source":"main.js","name":"chad","original":{"line":13,"column":2},"generated":{"line":1,"column":690}},{"source":"main.js","original":{"line":14,"column":2},"generated":{"line":1,"column":695}},{"source":"main.js","original":{"line":14,"column":2},"generated":{"line":1,"column":697}},{"source":"main.js","original":{"line":14,"column":2},"generated":{"line":1,"column":699}},{"source":"main.js","original":{"line":18,"column":0},"generated":{"line":1,"column":715}},{"source":"main.js","name":"party","original":{"line":18,"column":6},"generated":{"line":1,"column":721}},{"source":"main.js","original":{"line":18,"column":14},"generated":{"line":1,"column":723}},{"source":"main.js","name":"document","original":{"line":19,"column":15},"generated":{"line":1,"column":728}},{"source":"main.js","name":"querySelector","original":{"line":19,"column":24},"generated":{"line":1,"column":737}},{"source":"main.js","original":{"line":19,"column":38},"generated":{"line":1,"column":751}},{"source":"main.js","name":"classList","original":{"line":20,"column":7},"generated":{"line":1,"column":759}},{"source":"main.js","name":"add","original":{"line":20,"column":17},"generated":{"line":1,"column":769}},{"source":"main.js","original":{"line":20,"column":21},"generated":{"line":1,"column":773}},{"source":"main.js","name":"chad","original":{"line":24,"column":6},"generated":{"line":1,"column":786}},{"source":"main.js","original":{"line":24,"column":13},"generated":{"line":1,"column":788}},{"source":"main.js","name":"videoEl","original":{"line":25,"column":8},"generated":{"line":1,"column":798}},{"source":"main.js","name":"videoEl","original":{"line":25,"column":8},"generated":{"line":1,"column":804}},{"source":"main.js","name":"document","original":{"line":25,"column":18},"generated":{"line":1,"column":806}},{"source":"main.js","name":"getElementById","original":{"line":25,"column":27},"generated":{"line":1,"column":815}},{"source":"main.js","original":{"line":25,"column":42},"generated":{"line":1,"column":830}},{"source":"main.js","name":"canvas","original":{"line":26,"column":8},"generated":{"line":1,"column":844}},{"source":"main.js","name":"document","original":{"line":26,"column":17},"generated":{"line":1,"column":846}},{"source":"main.js","name":"getElementById","original":{"line":26,"column":26},"generated":{"line":1,"column":855}},{"source":"main.js","original":{"line":26,"column":41},"generated":{"line":1,"column":870}},{"source":"main.js","name":"ctx","original":{"line":27,"column":8},"generated":{"line":1,"column":881}},{"source":"main.js","name":"canvas","original":{"line":27,"column":14},"generated":{"line":1,"column":883}},{"source":"main.js","name":"getContext","original":{"line":27,"column":21},"generated":{"line":1,"column":885}},{"source":"main.js","original":{"line":27,"column":32},"generated":{"line":1,"column":896}},{"source":"main.js","name":"statusDiv","original":{"line":29,"column":8},"generated":{"line":1,"column":902}},{"source":"main.js","name":"document","original":{"line":29,"column":20},"generated":{"line":1,"column":904}},{"source":"main.js","name":"getElementById","original":{"line":29,"column":29},"generated":{"line":1,"column":913}},{"source":"main.js","original":{"line":29,"column":44},"generated":{"line":1,"column":928}},{"source":"main.js","name":"statusDiv","original":{"line":31,"column":2},"generated":{"line":1,"column":938}},{"source":"main.js","name":"innerHTML","original":{"line":31,"column":12},"generated":{"line":1,"column":940}},{"source":"main.js","original":{"line":31,"column":24},"generated":{"line":1,"column":950}},{"source":"main.js","name":"faceapi","original":{"line":33,"column":8},"generated":{"line":1,"column":975}},{"source":"main.js","name":"loadSsdMobilenetv1Model","original":{"line":33,"column":16},"generated":{"line":1,"column":977}},{"source":"main.js","name":"MODEL_URL","original":{"line":33,"column":40},"generated":{"line":1,"column":1001}},{"source":"main.js","name":"faceapi","original":{"line":34,"column":8},"generated":{"line":1,"column":1010}},{"source":"main.js","name":"loadFaceLandmarkModel","original":{"line":34,"column":16},"generated":{"line":1,"column":1012}},{"source":"main.js","name":"MODEL_URL","original":{"line":34,"column":38},"generated":{"line":1,"column":1034}},{"source":"main.js","name":"faceapi","original":{"line":35,"column":8},"generated":{"line":1,"column":1043}},{"source":"main.js","name":"loadMtcnnModel","original":{"line":35,"column":16},"generated":{"line":1,"column":1045}},{"source":"main.js","name":"MODEL_URL","original":{"line":35,"column":31},"generated":{"line":1,"column":1060}},{"source":"main.js","name":"faceapi","original":{"line":36,"column":8},"generated":{"line":1,"column":1069}},{"source":"main.js","name":"loadFaceRecognitionModel","original":{"line":36,"column":16},"generated":{"line":1,"column":1071}},{"source":"main.js","name":"MODEL_URL","original":{"line":36,"column":41},"generated":{"line":1,"column":1096}},{"source":"main.js","name":"res","original":{"line":38,"column":6},"generated":{"line":1,"column":1099}},{"source":"main.js","name":"res","original":{"line":38,"column":6},"generated":{"line":1,"column":1103}},{"source":"main.js","name":"axios","original":{"line":38,"column":18},"generated":{"line":1,"column":1111}},{"source":"main.js","name":"get","original":{"line":38,"column":24},"generated":{"line":1,"column":1113}},{"source":"main.js","original":{"line":38,"column":28},"generated":{"line":1,"column":1117}},{"source":"main.js","name":"statusDiv","original":{"line":40,"column":2},"generated":{"line":1,"column":1131}},{"source":"main.js","name":"innerHTML","original":{"line":40,"column":12},"generated":{"line":1,"column":1133}},{"source":"main.js","original":{"line":40,"column":24},"generated":{"line":1,"column":1143}},{"source":"main.js","name":"labeledFaceDescriptors","original":{"line":42,"column":6},"generated":{"line":1,"column":1173}},{"source":"main.js","name":"labeledFaceDescriptors","original":{"line":42,"column":6},"generated":{"line":1,"column":1177}},{"source":"main.js","name":"Promise","original":{"line":42,"column":37},"generated":{"line":1,"column":1185}},{"source":"main.js","name":"all","original":{"line":42,"column":45},"generated":{"line":1,"column":1193}},{"source":"main.js","name":"res","original":{"line":43,"column":6},"generated":{"line":1,"column":1197}},{"source":"main.js","name":"data","original":{"line":43,"column":10},"generated":{"line":1,"column":1199}},{"source":"main.js","name":"map","original":{"line":43,"column":15},"generated":{"line":1,"column":1204}},{"source":"main.js","original":{"line":43,"column":19},"generated":{"line":1,"column":1208}},{"source":"main.js","original":{"line":43,"column":19},"generated":{"line":1,"column":1214}},{"source":"main.js","name":"arr","original":{"line":44,"column":12},"generated":{"line":1,"column":1218}},{"source":"main.js","name":"arr","original":{"line":44,"column":12},"generated":{"line":1,"column":1222}},{"source":"main.js","original":{"line":44,"column":18},"generated":{"line":1,"column":1224}},{"source":"main.js","name":"Float32Array","original":{"line":44,"column":22},"generated":{"line":1,"column":1228}},{"source":"main.js","name":"Object","original":{"line":44,"column":36},"generated":{"line":1,"column":1241}},{"source":"main.js","name":"values","original":{"line":44,"column":43},"generated":{"line":1,"column":1248}},{"source":"main.js","name":"elem","original":{"line":44,"column":50},"generated":{"line":1,"column":1255}},{"source":"main.js","name":"_descriptors","original":{"line":44,"column":55},"generated":{"line":1,"column":1257}},{"source":"main.js","original":{"line":44,"column":68},"generated":{"line":1,"column":1270}},{"source":"main.js","original":{"line":45,"column":15},"generated":{"line":1,"column":1275}},{"source":"main.js","original":{"line":45,"column":15},"generated":{"line":1,"column":1282}},{"source":"main.js","name":"faceapi","original":{"line":45,"column":19},"generated":{"line":1,"column":1286}},{"source":"main.js","name":"LabeledFaceDescriptors","original":{"line":45,"column":27},"generated":{"line":1,"column":1288}},{"source":"main.js","name":"elem","original":{"line":45,"column":50},"generated":{"line":1,"column":1311}},{"source":"main.js","name":"_label","original":{"line":45,"column":55},"generated":{"line":1,"column":1313}},{"source":"main.js","original":{"line":45,"column":63},"generated":{"line":1,"column":1320}},{"source":"main.js","name":"arr","original":{"line":45,"column":64},"generated":{"line":1,"column":1321}},{"source":"main.js","name":"statusDiv","original":{"line":49,"column":2},"generated":{"line":1,"column":1328}},{"source":"main.js","name":"innerHTML","original":{"line":49,"column":12},"generated":{"line":1,"column":1330}},{"source":"main.js","original":{"line":49,"column":24},"generated":{"line":1,"column":1340}},{"source":"main.js","name":"navigator","original":{"line":51,"column":2},"generated":{"line":1,"column":1362}},{"source":"main.js","name":"getUserMedia","original":{"line":51,"column":12},"generated":{"line":1,"column":1372}},{"source":"main.js","original":{"line":52,"column":4},"generated":{"line":1,"column":1385}},{"source":"main.js","name":"video","original":{"line":53,"column":6},"generated":{"line":1,"column":1386}},{"source":"main.js","original":{"line":53,"column":13},"generated":{"line":1,"column":1392}},{"source":"main.js","name":"stream","original":{"line":55,"column":4},"generated":{"line":1,"column":1396}},{"source":"main.js","name":"videoEl","original":{"line":55,"column":14},"generated":{"line":1,"column":1399}},{"source":"main.js","name":"srcObject","original":{"line":55,"column":22},"generated":{"line":1,"column":1401}},{"source":"main.js","name":"stream","original":{"line":55,"column":34},"generated":{"line":1,"column":1411}},{"source":"main.js","name":"err","original":{"line":56,"column":4},"generated":{"line":1,"column":1413}},{"source":"main.js","name":"console","original":{"line":56,"column":11},"generated":{"line":1,"column":1416}},{"source":"main.js","name":"error","original":{"line":56,"column":19},"generated":{"line":1,"column":1424}},{"source":"main.js","name":"err","original":{"line":56,"column":25},"generated":{"line":1,"column":1430}},{"source":"main.js","name":"statusDiv","original":{"line":59,"column":0},"generated":{"line":1,"column":1434}},{"source":"main.js","name":"innerHTML","original":{"line":59,"column":10},"generated":{"line":1,"column":1436}},{"source":"main.js","original":{"line":59,"column":22},"generated":{"line":1,"column":1446}},{"source":"main.js","name":"options","original":{"line":61,"column":6},"generated":{"line":1,"column":1472}},{"source":"main.js","name":"options","original":{"line":61,"column":6},"generated":{"line":1,"column":1478}},{"source":"main.js","original":{"line":61,"column":16},"generated":{"line":1,"column":1480}},{"source":"main.js","name":"faceapi","original":{"line":61,"column":20},"generated":{"line":1,"column":1484}},{"source":"main.js","name":"MtcnnOptions","original":{"line":61,"column":28},"generated":{"line":1,"column":1486}},{"source":"main.js","name":"MTCNN_OPTIONS","original":{"line":61,"column":41},"generated":{"line":1,"column":1499}},{"source":"main.js","name":"faceMatcher","original":{"line":63,"column":6},"generated":{"line":1,"column":1502}},{"source":"main.js","original":{"line":63,"column":20},"generated":{"line":1,"column":1504}},{"source":"main.js","name":"faceapi","original":{"line":63,"column":24},"generated":{"line":1,"column":1508}},{"source":"main.js","name":"FaceMatcher","original":{"line":63,"column":32},"generated":{"line":1,"column":1510}},{"source":"main.js","name":"labeledFaceDescriptors","original":{"line":63,"column":44},"generated":{"line":1,"column":1522}},{"source":"main.js","original":{"line":62,"column":30},"generated":{"line":1,"column":1524}},{"source":"main.js","name":"detect","original":{"line":66,"column":6},"generated":{"line":1,"column":1528}},{"source":"main.js","original":{"line":66,"column":15},"generated":{"line":1,"column":1530}},{"source":"main.js","name":"statusDiv","original":{"line":67,"column":2},"generated":{"line":1,"column":1540}},{"source":"main.js","name":"innerHTML","original":{"line":67,"column":12},"generated":{"line":1,"column":1542}},{"source":"main.js","original":{"line":67,"column":24},"generated":{"line":1,"column":1552}},{"source":"main.js","name":"results","original":{"line":69,"column":8},"generated":{"line":1,"column":1581}},{"source":"main.js","name":"results","original":{"line":69,"column":8},"generated":{"line":1,"column":1587}},{"source":"main.js","name":"faceapi","original":{"line":69,"column":24},"generated":{"line":1,"column":1595}},{"source":"main.js","name":"detectAllFaces","original":{"line":69,"column":32},"generated":{"line":1,"column":1597}},{"source":"main.js","name":"videoEl","original":{"line":69,"column":47},"generated":{"line":1,"column":1612}},{"source":"main.js","name":"options","original":{"line":69,"column":56},"generated":{"line":1,"column":1614}},{"source":"main.js","name":"withFaceLandmarks","original":{"line":69,"column":65},"generated":{"line":1,"column":1617}},{"source":"main.js","name":"withFaceDescriptors","original":{"line":69,"column":85},"generated":{"line":1,"column":1637}},{"source":"main.js","name":"name","original":{"line":71,"column":6},"generated":{"line":1,"column":1659}},{"source":"main.js","name":"name","original":{"line":71,"column":6},"generated":{"line":1,"column":1663}},{"source":"main.js","name":"name","original":{"line":109,"column":6},"generated":{"line":1,"column":1665}},{"source":"main.js","name":"results","original":{"line":73,"column":6},"generated":{"line":1,"column":1668}},{"source":"main.js","name":"results","original":{"line":74,"column":4},"generated":{"line":1,"column":1671}},{"source":"main.js","name":"forEach","original":{"line":74,"column":12},"generated":{"line":1,"column":1673}},{"source":"main.js","name":"result","original":{"line":74,"column":20},"generated":{"line":1,"column":1681}},{"source":"main.js","name":"ctx","original":{"line":75,"column":6},"generated":{"line":1,"column":1685}},{"source":"main.js","name":"clearRect","original":{"line":75,"column":10},"generated":{"line":1,"column":1687}},{"source":"main.js","original":{"line":75,"column":20},"generated":{"line":1,"column":1697}},{"source":"main.js","original":{"line":75,"column":23},"generated":{"line":1,"column":1699}},{"source":"main.js","original":{"line":75,"column":26},"generated":{"line":1,"column":1701}},{"source":"main.js","original":{"line":75,"column":31},"generated":{"line":1,"column":1705}},{"source":"main.js","name":"dims","original":{"line":77,"column":10},"generated":{"line":1,"column":1710}},{"source":"main.js","name":"dims","original":{"line":77,"column":10},"generated":{"line":1,"column":1714}},{"source":"main.js","name":"faceapi","original":{"line":77,"column":17},"generated":{"line":1,"column":1716}},{"source":"main.js","name":"matchDimensions","original":{"line":77,"column":25},"generated":{"line":1,"column":1718}},{"source":"main.js","name":"videoEl","original":{"line":77,"column":41},"generated":{"line":1,"column":1734}},{"source":"main.js","name":"canvas","original":{"line":77,"column":50},"generated":{"line":1,"column":1736}},{"source":"main.js","name":"faceDescription","original":{"line":78,"column":10},"generated":{"line":1,"column":1739}},{"source":"main.js","name":"faceapi","original":{"line":78,"column":28},"generated":{"line":1,"column":1741}},{"source":"main.js","name":"resizeResults","original":{"line":78,"column":36},"generated":{"line":1,"column":1743}},{"source":"main.js","name":"result","original":{"line":78,"column":50},"generated":{"line":1,"column":1757}},{"source":"main.js","name":"dims","original":{"line":78,"column":58},"generated":{"line":1,"column":1759}},{"source":"main.js","name":"matchResults","original":{"line":80,"column":12},"generated":{"line":1,"column":1762}},{"source":"main.js","name":"matchResults","original":{"line":80,"column":12},"generated":{"line":1,"column":1768}},{"source":"main.js","name":"faceMatcher","original":{"line":80,"column":27},"generated":{"line":1,"column":1770}},{"source":"main.js","name":"findBestMatch","original":{"line":80,"column":39},"generated":{"line":1,"column":1772}},{"source":"main.js","name":"faceDescription","original":{"line":80,"column":53},"generated":{"line":1,"column":1786}},{"source":"main.js","name":"descriptor","original":{"line":80,"column":69},"generated":{"line":1,"column":1788}},{"source":"main.js","name":"box","original":{"line":81,"column":12},"generated":{"line":1,"column":1800}},{"source":"main.js","name":"faceDescription","original":{"line":81,"column":18},"generated":{"line":1,"column":1802}},{"source":"main.js","name":"detection","original":{"line":81,"column":34},"generated":{"line":1,"column":1804}},{"source":"main.js","name":"box","original":{"line":81,"column":44},"generated":{"line":1,"column":1814}},{"source":"main.js","name":"text","original":{"line":82,"column":10},"generated":{"line":1,"column":1818}},{"source":"main.js","name":"text","original":{"line":82,"column":10},"generated":{"line":1,"column":1822}},{"source":"main.js","name":"matchResults","original":{"line":82,"column":17},"generated":{"line":1,"column":1824}},{"source":"main.js","name":"label","original":{"line":82,"column":30},"generated":{"line":1,"column":1826}},{"source":"main.js","original":{"line":86,"column":19},"generated":{"line":1,"column":1832}},{"source":"main.js","name":"name","original":{"line":84,"column":6},"generated":{"line":1,"column":1842}},{"source":"main.js","name":"text","original":{"line":84,"column":13},"generated":{"line":1,"column":1844}},{"source":"main.js","name":"slice","original":{"line":84,"column":18},"generated":{"line":1,"column":1846}},{"source":"main.js","original":{"line":84,"column":24},"generated":{"line":1,"column":1852}},{"source":"main.js","original":{"line":84,"column":28},"generated":{"line":1,"column":1855}},{"source":"main.js","name":"text","original":{"line":87,"column":8},"generated":{"line":1,"column":1861}},{"source":"main.js","name":"name","original":{"line":87,"column":29},"generated":{"line":1,"column":1877}},{"source":"main.js","original":{"line":90,"column":22},"generated":{"line":1,"column":1883}},{"source":"main.js","name":"faceapi","original":{"line":90,"column":26},"generated":{"line":1,"column":1887}},{"source":"main.js","name":"draw","original":{"line":90,"column":34},"generated":{"line":1,"column":1889}},{"source":"main.js","name":"DrawBox","original":{"line":90,"column":39},"generated":{"line":1,"column":1894}},{"source":"main.js","name":"box","original":{"line":91,"column":8},"generated":{"line":1,"column":1902}},{"source":"main.js","original":{"line":92,"column":8},"generated":{"line":1,"column":1904}},{"source":"main.js","name":"label","original":{"line":93,"column":10},"generated":{"line":1,"column":1905}},{"source":"main.js","name":"text","original":{"line":93,"column":17},"generated":{"line":1,"column":1911}},{"source":"main.js","name":"lineWidth","original":{"line":94,"column":10},"generated":{"line":1,"column":1913}},{"source":"main.js","original":{"line":94,"column":21},"generated":{"line":1,"column":1923}},{"source":"main.js","name":"boxColor","original":{"line":95,"column":10},"generated":{"line":1,"column":1925}},{"source":"main.js","original":{"line":95,"column":20},"generated":{"line":1,"column":1934}},{"source":"main.js","name":"drawLabelOptions","original":{"line":96,"column":10},"generated":{"line":1,"column":1943}},{"source":"main.js","original":{"line":96,"column":28},"generated":{"line":1,"column":1960}},{"source":"main.js","name":"fontColor","original":{"line":97,"column":12},"generated":{"line":1,"column":1961}},{"source":"main.js","original":{"line":97,"column":23},"generated":{"line":1,"column":1971}},{"source":"main.js","name":"fontSize","original":{"line":98,"column":12},"generated":{"line":1,"column":1979}},{"source":"main.js","original":{"line":98,"column":22},"generated":{"line":1,"column":1988}},{"source":"main.js","name":"fontStyle","original":{"line":99,"column":12},"generated":{"line":1,"column":1991}},{"source":"main.js","original":{"line":99,"column":23},"generated":{"line":1,"column":2001}},{"source":"main.js","name":"padding","original":{"line":100,"column":12},"generated":{"line":1,"column":2012}},{"source":"main.js","original":{"line":100,"column":21},"generated":{"line":1,"column":2020}},{"source":"main.js","name":"draw","original":{"line":105,"column":14},"generated":{"line":1,"column":2025}},{"source":"main.js","name":"canvas","original":{"line":105,"column":19},"generated":{"line":1,"column":2030}},{"source":"main.js","original":{"line":109,"column":15},"generated":{"line":1,"column":2035}},{"source":"main.js","name":"name","original":{"line":109,"column":6},"generated":{"line":1,"column":2044}},{"source":"main.js","name":"requestAnimationFrame","original":{"line":110,"column":4},"generated":{"line":1,"column":2046}},{"source":"main.js","name":"detect","original":{"line":110,"column":26},"generated":{"line":1,"column":2068}},{"source":"main.js","original":{"line":111,"column":9},"generated":{"line":1,"column":2075}},{"source":"main.js","name":"document","original":{"line":112,"column":17},"generated":{"line":1,"column":2076}},{"source":"main.js","name":"querySelector","original":{"line":112,"column":26},"generated":{"line":1,"column":2085}},{"source":"main.js","original":{"line":112,"column":40},"generated":{"line":1,"column":2099}},{"source":"main.js","name":"classList","original":{"line":113,"column":9},"generated":{"line":1,"column":2107}},{"source":"main.js","name":"add","original":{"line":113,"column":19},"generated":{"line":1,"column":2117}},{"source":"main.js","original":{"line":113,"column":23},"generated":{"line":1,"column":2121}},{"source":"main.js","name":"statusDiv","original":{"line":114,"column":4},"generated":{"line":1,"column":2138}},{"source":"main.js","name":"innerHTML","original":{"line":114,"column":14},"generated":{"line":1,"column":2140}},{"source":"main.js","original":{"line":114,"column":26},"generated":{"line":1,"column":2150}},{"source":"main.js","name":"setTimeout","original":{"line":116,"column":4},"generated":{"line":1,"column":2163}},{"source":"main.js","original":{"line":116,"column":15},"generated":{"line":1,"column":2174}},{"source":"main.js","name":"document","original":{"line":19,"column":15},"generated":{"line":1,"column":2179}},{"source":"main.js","name":"querySelector","original":{"line":19,"column":24},"generated":{"line":1,"column":2188}},{"source":"main.js","original":{"line":19,"column":38},"generated":{"line":1,"column":2202}},{"source":"main.js","name":"classList","original":{"line":20,"column":7},"generated":{"line":1,"column":2210}},{"source":"main.js","name":"add","original":{"line":20,"column":17},"generated":{"line":1,"column":2220}},{"source":"main.js","original":{"line":20,"column":21},"generated":{"line":1,"column":2224}},{"source":"main.js","original":{"line":118,"column":7},"generated":{"line":1,"column":2237}},{"source":"main.js","name":"videoEl","original":{"line":121,"column":2},"generated":{"line":1,"column":2244}},{"source":"main.js","name":"onplay","original":{"line":121,"column":10},"generated":{"line":1,"column":2246}},{"source":"main.js","name":"detect","original":{"line":121,"column":19},"generated":{"line":1,"column":2253}}],"sources":{"main.js":"import './styles/main.scss'\nimport * as faceapi from 'face-api.js';\nimport { docReady } from './utils/docReady'\nimport { consoleArt } from './scripts/logo'\n\nconst axios = require('axios')\n\nconst MODEL_URL = './models'\nconst MTCNN_OPTIONS = { minFaceSize: 100 }\n\n\ndocReady( async () => { \n  chad()\n  consoleArt()\n})\n\n\nconst party = () => {\n  const body = document.querySelector('body')\n  body.classList.add('party-on')\n}\n\n\nconst chad = async () => {\n  const videoEl = document.getElementById('inputVideo');\n  const canvas = document.getElementById('overlay');\n  const ctx = canvas.getContext('2d');\n  \n  const statusDiv = document.getElementById('status')\n  \n  statusDiv.innerHTML = 'Model loading...'\n\n  await faceapi.loadSsdMobilenetv1Model(MODEL_URL)\n  await faceapi.loadFaceLandmarkModel(MODEL_URL)\n  await faceapi.loadMtcnnModel(MODEL_URL)  \n  await faceapi.loadFaceRecognitionModel(MODEL_URL)\n\n  let res = await axios.get('/data.json')\n\n  statusDiv.innerHTML = 'Face Descriptors loading...'\n  \n  let labeledFaceDescriptors = await Promise.all(\n      res.data.map(async elem => {\n        let arr = new Float32Array( Object.values(elem._descriptors[0]) )\n        return new faceapi.LabeledFaceDescriptors(elem._label, [arr])\n      })\n    )\n\n  statusDiv.innerHTML = 'Connecting video...'\n  \n  navigator.getUserMedia(\n    { \n      video: {} \n    },\n    stream => videoEl.srcObject = stream,\n    err => console.error(err)\n  )\n  \nstatusDiv.innerHTML = 'Face matcher loading...'\n\nconst options = new faceapi.MtcnnOptions(MTCNN_OPTIONS)\nconst maxDescriptorDistance = 0.6\nconst faceMatcher = new faceapi.FaceMatcher(labeledFaceDescriptors, maxDescriptorDistance)\n\n\nconst detect = async () => {\n  statusDiv.innerHTML = 'Are you Chad? Detecting...'\n  \n  const results = await faceapi.detectAllFaces(videoEl, options).withFaceLandmarks().withFaceDescriptors()\n\n  let name;\n\n  if (results) {\n    results.forEach(result => {      \n      ctx.clearRect(0, 0, 640, 480)\n      \n      let dims = faceapi.matchDimensions(videoEl, canvas)\n      let faceDescription = faceapi.resizeResults(result, dims)\n      \n      const matchResults = faceMatcher.findBestMatch(faceDescription.descriptor)\n      const box = faceDescription.detection.box\n      let text = matchResults.label\n      \n      name = text.slice(0, -2)\n\n      if (name !== 'chad') {\n        text = `not chad - ${name}?`\n      }\n\n      const drawBox = new faceapi.draw.DrawBox(\n        box, \n        { \n          label: text, \n          lineWidth: 2, \n          boxColor: 'yellow',\n          drawLabelOptions: {\n            fontColor: 'black',\n            fontSize: 36,\n            fontStyle: 'Pacifico',\n            padding: 6\n          } \n        }\n      )\n\n      drawBox.draw(canvas)\n    })\n  }\n\n  if (name !== 'chad') {\n    requestAnimationFrame(detect);\n  } else {\n    const body = document.querySelector('body')\n    body.classList.add('chad-detected')\n    statusDiv.innerHTML = 'It\\'s Chad!' \n\n    setTimeout(() => {\n      party()\n    }, 2000)\n  }\n }\n  videoEl.onplay = detect\n}\n"},"lineCount":null}},"error":null,"hash":"384a687f3590d1c22ff9c72545608086","cacheData":{"env":{}}}