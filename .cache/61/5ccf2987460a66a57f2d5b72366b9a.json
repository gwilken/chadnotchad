{"id":"1uu0","dependencies":[{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/dom/extractFaces.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/src/dom/extractFaces.ts","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/package.json","includedInParent":true,"mtime":1568572563000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/package.json","includedInParent":true,"mtime":1568569762542},{"name":"tslib","loc":{"line":1,"column":25},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/dom/extractFaces.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tslib/tslib.es6.js"},{"name":"tfjs-image-recognition-base","loc":{"line":2,"column":89},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/dom/extractFaces.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/index.js"},{"name":"../classes/FaceDetection","loc":{"line":3,"column":30},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/dom/extractFaces.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/classes/FaceDetection.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.extractFaces=i;var e=a(require(\"tslib\")),t=require(\"tfjs-image-recognition-base\"),r=require(\"../classes/FaceDetection\");function n(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function a(e){if(e&&e.__esModule)return e;var t=n();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}function i(n,a){return e.__awaiter(this,void 0,void 0,function(){var i,o,c,s,u,f;return e.__generator(this,function(e){switch(e.label){case 0:return i=t.env.getEnv().Canvas,o=n,n instanceof i?[3,5]:[4,(0,t.toNetInput)(n)];case 1:if((c=e.sent()).batchSize>1)throw new Error(\"extractFaces - batchSize > 1 not supported\");return(s=c.getInput(0))instanceof i?(u=s,[3,4]):[3,2];case 2:return[4,(0,t.imageTensorToCanvas)(s)];case 3:u=e.sent(),e.label=4;case 4:o=u,e.label=5;case 5:return f=(0,t.getContext2dOrThrow)(o),[2,a.map(function(e){return e instanceof r.FaceDetection?e.forSize(o.width,o.height).box.floor():e}).map(function(e){return e.clipAtImageBorders(o.width,o.height)}).map(function(e){var r=e.x,n=e.y,a=e.width,i=e.height,o=(0,t.createCanvas)({width:a,height:i});return(0,t.getContext2dOrThrow)(o).putImageData(f.getImageData(r,n,a,i),0,0),o})]}})})}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":89}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":91}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":95}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":97}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":99}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":107}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":117}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":119}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":127}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":158}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":160}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":168}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":196}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":205}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":209}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":212}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":231}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":239}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":246}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":251}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":255}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":257}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":261}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":269}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":276}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":278}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":289}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":296}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":299}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":301}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":310}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":312}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":315}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":318}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":321}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":323}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":334}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":341}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":343}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":347}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":349}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":353}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":356}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":359}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":361}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":365}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":368}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":375}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":377}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":381}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":384}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":388}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":390}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":393}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":396}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":402}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":404}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":405}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":409}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":411}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":418}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":434}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":441}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":466}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":470}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":474}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":479}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":481}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":484}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":491}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":501}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":516}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":521}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":523}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":526}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":527}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":531}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":533}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":535}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":542}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":567}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":569}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":572}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":577}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":581}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":583}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":588}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":590}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":595}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":602}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":617}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":619}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":621}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":624}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":626}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":629}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":631}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":635}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":642}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":644}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":652}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":654}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":657}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":659}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":663}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":665}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":668}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":670}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":20,"column":22},"generated":{"line":1,"column":679}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":681}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":683}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":686}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":693}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":695}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":705}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":715}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":722}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":724}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":735}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":739}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":741}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":743}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":745}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":747}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":749}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":751}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":758}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":760}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":772}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":777}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":786}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":789}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":796}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":798}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":805}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":810}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":1,"column":812}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":819}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":25,"column":21},"generated":{"line":1,"column":821}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":1,"column":823}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":1,"column":827}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":25,"column":33},"generated":{"line":1,"column":836}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":843}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":27,"column":15},"generated":{"line":1,"column":845}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":847}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":1,"column":860}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":1,"column":862}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":1,"column":863}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":1,"column":865}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":1,"column":868}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":1,"column":869}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":30,"column":27},"generated":{"line":1,"column":872}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":874}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":876}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":888}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":892}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":897}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":899}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":903}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":1,"column":905}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":1,"column":907}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":32,"column":17},"generated":{"line":1,"column":915}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":32,"column":29},"generated":{"line":1,"column":925}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":927}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":933}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":33,"column":16},"generated":{"line":1,"column":937}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":943}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":989}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":996}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":36,"column":27},"generated":{"line":1,"column":998}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":36,"column":36},"generated":{"line":1,"column":1000}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":36,"column":45},"generated":{"line":1,"column":1009}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":37,"column":39},"generated":{"line":1,"column":1023}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":1026}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":1028}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1030}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1031}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1033}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":1037}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":1038}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":1040}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1043}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1048}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":1050}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":1056}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":1057}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":14},"generated":{"line":1,"column":1060}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":1,"column":1062}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":1,"column":1064}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":1,"column":1085}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1089}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1094}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":1096}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":1098}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":1100}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1107}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1109}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1115}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1117}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1122}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":1,"column":1124}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":1126}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1128}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1130}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1136}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1138}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1143}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":1145}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":1152}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":1,"column":1155}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":42,"column":34},"generated":{"line":1,"column":1157}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":42,"column":34},"generated":{"line":1,"column":1159}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":42,"column":34},"generated":{"line":1,"column":1180}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":1183}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":1184}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":43,"column":16},"generated":{"line":1,"column":1186}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":43,"column":27},"generated":{"line":1,"column":1188}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":1192}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":1201}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":1204}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":1211}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":44,"column":26},"generated":{"line":1,"column":1224}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":1226}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":1240}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":1,"column":1242}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":1250}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":1252}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":1258}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":45,"column":41},"generated":{"line":1,"column":1260}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":45,"column":49},"generated":{"line":1,"column":1268}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":45,"column":53},"generated":{"line":1,"column":1272}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":1280}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":5},"generated":{"line":1,"column":1284}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":1288}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":1297}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":1300}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":1307}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":20},"generated":{"line":1,"column":1309}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":39},"generated":{"line":1,"column":1328}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":46},"generated":{"line":1,"column":1330}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":53},"generated":{"line":1,"column":1336}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":48,"column":60},"generated":{"line":1,"column":1338}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":1,"column":1348}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":19},"generated":{"line":1,"column":1352}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":1361}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":22},"generated":{"line":1,"column":1364}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":22},"generated":{"line":1,"column":1368}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":22},"generated":{"line":1,"column":1370}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":22},"generated":{"line":1,"column":1372}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":1374}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":1376}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":1378}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":28},"generated":{"line":1,"column":1380}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":28},"generated":{"line":1,"column":1382}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":28},"generated":{"line":1,"column":1384}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":35},"generated":{"line":1,"column":1390}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":35},"generated":{"line":1,"column":1392}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":50,"column":35},"generated":{"line":1,"column":1394}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":1,"column":1401}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":51,"column":20},"generated":{"line":1,"column":1404}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":51,"column":33},"generated":{"line":1,"column":1406}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":51,"column":33},"generated":{"line":1,"column":1408}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":51,"column":33},"generated":{"line":1,"column":1422}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":51,"column":35},"generated":{"line":1,"column":1423}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":51,"column":40},"generated":{"line":1,"column":1429}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":51,"column":42},"generated":{"line":1,"column":1431}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":51,"column":48},"generated":{"line":1,"column":1438}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":1442}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":52,"column":24},"generated":{"line":1,"column":1449}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":52,"column":24},"generated":{"line":1,"column":1451}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":52,"column":24},"generated":{"line":1,"column":1453}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":52,"column":24},"generated":{"line":1,"column":1474}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":53,"column":7},"generated":{"line":1,"column":1477}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":53,"column":20},"generated":{"line":1,"column":1490}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":53,"column":24},"generated":{"line":1,"column":1492}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":53,"column":37},"generated":{"line":1,"column":1505}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":53,"column":40},"generated":{"line":1,"column":1507}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":53,"column":43},"generated":{"line":1,"column":1509}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":53,"column":50},"generated":{"line":1,"column":1511}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":53,"column":59},"generated":{"line":1,"column":1514}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":53,"column":62},"generated":{"line":1,"column":1516}},{"source":"../../../src/dom/extractFaces.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":1519}}],"sources":{"../../../src/dom/extractFaces.ts":"import {\r\n  createCanvas,\r\n  env,\r\n  getContext2dOrThrow,\r\n  imageTensorToCanvas,\r\n  Rect,\r\n  TNetInput,\r\n  toNetInput,\r\n} from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\n\r\n/**\r\n * Extracts the image regions containing the detected faces.\r\n *\r\n * @param input The image that face detection has been performed on.\r\n * @param detections The face detection results or face bounding boxes for that image.\r\n * @returns The Canvases of the corresponding image region for each detected face.\r\n */\r\nexport async function extractFaces(\r\n  input: TNetInput,\r\n  detections: Array<FaceDetection | Rect>\r\n): Promise<HTMLCanvasElement[]> {\r\n\r\n  const { Canvas } = env.getEnv()\r\n\r\n  let canvas = input as HTMLCanvasElement\r\n\r\n  if (!(input instanceof Canvas)) {\r\n    const netInput = await toNetInput(input)\r\n\r\n    if (netInput.batchSize > 1) {\r\n      throw new Error('extractFaces - batchSize > 1 not supported')\r\n    }\r\n\r\n    const tensorOrCanvas = netInput.getInput(0)\r\n    canvas = tensorOrCanvas instanceof Canvas\r\n      ? tensorOrCanvas\r\n      : await imageTensorToCanvas(tensorOrCanvas)\r\n  }\r\n\r\n  const ctx = getContext2dOrThrow(canvas)\r\n  const boxes = detections.map(\r\n    det => det instanceof FaceDetection\r\n      ? det.forSize(canvas.width, canvas.height).box.floor()\r\n      : det\r\n  )\r\n    .map(box => box.clipAtImageBorders(canvas.width, canvas.height))\r\n\r\n  return boxes.map(({ x, y, width, height }) => {\r\n    const faceImg = createCanvas({ width, height })\r\n    getContext2dOrThrow(faceImg)\r\n      .putImageData(ctx.getImageData(x, y, width, height), 0, 0)\r\n    return faceImg\r\n  })\r\n}"},"lineCount":null}},"error":null,"hash":"d03e41e6e3112ada3b3c485e139baa9c","cacheData":{"env":{}}}