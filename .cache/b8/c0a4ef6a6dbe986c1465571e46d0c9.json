{"id":"AX99","dependencies":[{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/dom/extractFaceTensors.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/src/dom/extractFaceTensors.ts","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/package.json","includedInParent":true,"mtime":1568572563000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/package.json","includedInParent":true,"mtime":1568569762542},{"name":"tslib","loc":{"line":1,"column":25},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/dom/extractFaceTensors.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tslib/tslib.es6.js"},{"name":"@tensorflow/tfjs-core","loc":{"line":2,"column":20},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/dom/extractFaceTensors.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"},{"name":"tfjs-image-recognition-base","loc":{"line":3,"column":39},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/dom/extractFaceTensors.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/index.js"},{"name":"../classes/FaceDetection","loc":{"line":4,"column":30},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/dom/extractFaceTensors.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/face-api.js/build/es6/classes/FaceDetection.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.extractFaceTensors=s;var e=i(require(\"tslib\")),r=i(require(\"@tensorflow/tfjs-core\")),t=require(\"tfjs-image-recognition-base\"),n=require(\"../classes/FaceDetection\");function o(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e){if(e&&e.__esModule)return e;var r=o();if(r&&r.has(e))return r.get(e);var t={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(t,i,s):t[i]=e[i]}}return t.default=e,r&&r.set(e,t),t}function s(o,i){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(e){if(!(0,t.isTensor3D)(o)&&!(0,t.isTensor4D)(o))throw new Error(\"extractFaceTensors - expected image tensor to be 3D or 4D\");if((0,t.isTensor4D)(o)&&o.shape[0]>1)throw new Error(\"extractFaceTensors - batchSize > 1 not supported\");return[2,r.tidy(function(){var e=o.shape.slice((0,t.isTensor4D)(o)?1:0),s=e[0],a=e[1],c=e[2];return i.map(function(e){return e instanceof n.FaceDetection?e.forSize(a,s).box:e}).map(function(e){return e.clipAtImageBorders(a,s)}).map(function(e){var t=e.x,n=e.y,i=e.width,u=e.height;return r.slice3d(o.as3D(s,a,c),[n,t,0],[u,i,c])})})]})})}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":95}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":97}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":101}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":103}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":105}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":113}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":123}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":125}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":127}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":135}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":161}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":163}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":171}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":202}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":204}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":212}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":240}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":249}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":253}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":256}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":275}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":283}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":290}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":295}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":299}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":301}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":305}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":313}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":320}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":322}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":333}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":340}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":343}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":345}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":354}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":356}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":359}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":362}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":365}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":367}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":378}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":385}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":387}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":391}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":393}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":397}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":400}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":403}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":405}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":409}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":412}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":419}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":421}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":425}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":428}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":432}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":434}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":437}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":440}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":446}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":448}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":449}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":453}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":455}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":462}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":478}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":485}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":510}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":514}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":518}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":523}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":525}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":528}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":535}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":545}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":560}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":565}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":567}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":570}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":571}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":575}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":577}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":579}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":586}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":611}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":613}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":616}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":621}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":625}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":627}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":632}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":634}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":639}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":646}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":661}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":663}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":665}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":668}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":670}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":673}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":675}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":679}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":686}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":688}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":696}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":698}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":701}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":703}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":707}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":709}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":712}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":16,"column":6},"generated":{"line":1,"column":714}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":16,"column":22},"generated":{"line":1,"column":723}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":725}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":727}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":730}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":737}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":739}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":749}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":759}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":766}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":768}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":779}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":786}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":788}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":800}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":805}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":814}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":1,"column":817}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":21,"column":7},"generated":{"line":1,"column":822}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":21,"column":18},"generated":{"line":1,"column":824}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":21,"column":18},"generated":{"line":1,"column":826}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":21,"column":18},"generated":{"line":1,"column":838}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":21,"column":35},"generated":{"line":1,"column":844}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":21,"column":46},"generated":{"line":1,"column":846}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":21,"column":46},"generated":{"line":1,"column":848}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":21,"column":46},"generated":{"line":1,"column":860}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":863}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":869}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":22,"column":14},"generated":{"line":1,"column":873}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":1,"column":879}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":25,"column":6},"generated":{"line":1,"column":940}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":25,"column":6},"generated":{"line":1,"column":944}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":1,"column":946}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":1,"column":948}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":1,"column":960}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":25,"column":33},"generated":{"line":1,"column":964}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":25,"column":45},"generated":{"line":1,"column":966}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":25,"column":51},"generated":{"line":1,"column":972}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":25,"column":56},"generated":{"line":1,"column":975}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":977}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":983}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":26,"column":14},"generated":{"line":1,"column":987}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":993}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":1045}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":1051}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":1052}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":1054}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":1056}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":29,"column":17},"generated":{"line":1,"column":1061}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1072}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1076}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1078}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1080}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1086}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1093}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1095}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1097}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1109}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1112}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1114}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":1117}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":1119}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":1121}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":1124}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":1126}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":1128}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":32},"generated":{"line":1,"column":1131}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":32},"generated":{"line":1,"column":1133}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":30,"column":32},"generated":{"line":1,"column":1135}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":1138}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":32,"column":18},"generated":{"line":1,"column":1145}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":32,"column":29},"generated":{"line":1,"column":1147}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":1151}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":1160}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":1163}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":1170}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":33,"column":28},"generated":{"line":1,"column":1183}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":1185}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":1199}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":1201}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":1209}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":34,"column":32},"generated":{"line":1,"column":1211}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":34,"column":43},"generated":{"line":1,"column":1214}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":1218}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":37,"column":7},"generated":{"line":1,"column":1222}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":1226}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":1235}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":1238}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":1245}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":1,"column":1247}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":37,"column":41},"generated":{"line":1,"column":1266}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":37,"column":51},"generated":{"line":1,"column":1268}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":30},"generated":{"line":1,"column":1273}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":1,"column":1277}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":35},"generated":{"line":1,"column":1286}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":37},"generated":{"line":1,"column":1289}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":37},"generated":{"line":1,"column":1293}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":37},"generated":{"line":1,"column":1295}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":37},"generated":{"line":1,"column":1297}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":40},"generated":{"line":1,"column":1299}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":40},"generated":{"line":1,"column":1301}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":40},"generated":{"line":1,"column":1303}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":43},"generated":{"line":1,"column":1305}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":43},"generated":{"line":1,"column":1307}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":43},"generated":{"line":1,"column":1309}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":50},"generated":{"line":1,"column":1315}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":50},"generated":{"line":1,"column":1317}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":39,"column":50},"generated":{"line":1,"column":1319}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":1326}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":1333}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":1335}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":17},"generated":{"line":1,"column":1343}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":29},"generated":{"line":1,"column":1345}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":34},"generated":{"line":1,"column":1350}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":45},"generated":{"line":1,"column":1352}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":55},"generated":{"line":1,"column":1354}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":69},"generated":{"line":1,"column":1357}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":70},"generated":{"line":1,"column":1358}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":73},"generated":{"line":1,"column":1360}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":76},"generated":{"line":1,"column":1362}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":80},"generated":{"line":1,"column":1365}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":81},"generated":{"line":1,"column":1366}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":89},"generated":{"line":1,"column":1368}},{"source":"../../../src/dom/extractFaceTensors.ts","name":null,"original":{"line":40,"column":96},"generated":{"line":1,"column":1370}}],"sources":{"../../../src/dom/extractFaceTensors.ts":"import * as tf from '@tensorflow/tfjs-core';\r\nimport { isTensor4D, Rect, isTensor3D } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\n\r\n/**\r\n * Extracts the tensors of the image regions containing the detected faces.\r\n * Useful if you want to compute the face descriptors for the face images.\r\n * Using this method is faster then extracting a canvas for each face and\r\n * converting them to tensors individually.\r\n *\r\n * @param imageTensor The image tensor that face detection has been performed on.\r\n * @param detections The face detection results or face bounding boxes for that image.\r\n * @returns Tensors of the corresponding image region for each detected face.\r\n */\r\nexport async function extractFaceTensors(\r\n  imageTensor: tf.Tensor3D | tf.Tensor4D,\r\n  detections: Array<FaceDetection | Rect>\r\n): Promise<tf.Tensor3D[]> {\r\n\r\n  if (!isTensor3D(imageTensor) && !isTensor4D(imageTensor)) {\r\n    throw new Error('extractFaceTensors - expected image tensor to be 3D or 4D')\r\n  }\r\n\r\n  if (isTensor4D(imageTensor) && imageTensor.shape[0] > 1) {\r\n    throw new Error('extractFaceTensors - batchSize > 1 not supported')\r\n  }\r\n\r\n  return tf.tidy(() => {\r\n    const [imgHeight, imgWidth, numChannels] = imageTensor.shape.slice(isTensor4D(imageTensor) ? 1 : 0)\r\n\r\n    const boxes = detections.map(\r\n      det => det instanceof FaceDetection\r\n        ? det.forSize(imgWidth, imgHeight).box\r\n        : det\r\n    )\r\n      .map(box => box.clipAtImageBorders(imgWidth, imgHeight))\r\n\r\n    const faceTensors = boxes.map(({ x, y, width, height }) =>\r\n      tf.slice3d(imageTensor.as3D(imgHeight, imgWidth, numChannels), [y, x, 0], [height, width, numChannels])\r\n    )\r\n\r\n    return faceTensors\r\n  })\r\n}"},"lineCount":null}},"error":null,"hash":"107c3d9c3355a457c134f90190d70c3e","cacheData":{"env":{}}}