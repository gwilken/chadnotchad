{"id":"aaNI","dependencies":[{"name":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/dom/createCanvas.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/src/dom/createCanvas.ts","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/package.json","includedInParent":true,"mtime":1568572563000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/package.json","includedInParent":true,"mtime":1568420746977},{"name":"../env","loc":{"line":1,"column":20},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/dom/createCanvas.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/index.js"},{"name":"./getContext2dOrThrow","loc":{"line":2,"column":36},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/dom/createCanvas.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/dom/getContext2dOrThrow.js"},{"name":"./getMediaDimensions","loc":{"line":3,"column":35},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/dom/createCanvas.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/dom/getMediaDimensions.js"},{"name":"./isMediaLoaded","loc":{"line":4,"column":30},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/dom/createCanvas.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/dom/isMediaLoaded.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createCanvas=i,exports.createCanvasFromMedia=n;var e=require(\"../env\"),t=require(\"./getContext2dOrThrow\"),r=require(\"./getMediaDimensions\"),a=require(\"./isMediaLoaded\");function i(t){var r=t.width,a=t.height,i=(0,e.env.getEnv().createCanvasElement)();return i.width=r,i.height=a,i}function n(n,o){var d=e.env.getEnv().ImageData;if(!(n instanceof d||(0,a.isMediaLoaded)(n)))throw new Error(\"createCanvasFromMedia - media has not finished loading yet\");var s=o||(0,r.getMediaDimensions)(n),h=s.width,g=s.height,v=i({width:h,height:g});return n instanceof d?(0,t.getContext2dOrThrow)(v).putImageData(n,0,0):(0,t.getContext2dOrThrow)(v).drawImage(n,0,0,h,g),v}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":89}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":91}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":99}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":121}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":123}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":129}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":137}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":147}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":149}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":157}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":184}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":192}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":216}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":218}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":226}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":245}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":254}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":29},"generated":{"line":1,"column":256}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":31},"generated":{"line":1,"column":259}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":31},"generated":{"line":1,"column":263}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":31},"generated":{"line":1,"column":265}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":31},"generated":{"line":1,"column":267}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":38},"generated":{"line":1,"column":273}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":38},"generated":{"line":1,"column":275}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":7,"column":38},"generated":{"line":1,"column":277}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":1,"column":284}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":10,"column":17},"generated":{"line":1,"column":287}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":1,"column":289}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":1,"column":291}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":1,"column":295}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":1,"column":304}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":1,"column":327}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":334}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":336}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":11,"column":17},"generated":{"line":1,"column":342}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":12,"column":2},"generated":{"line":1,"column":344}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":346}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":12,"column":18},"generated":{"line":1,"column":353}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":1,"column":355}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":16,"column":6},"generated":{"line":1,"column":357}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":366}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":16,"column":38},"generated":{"line":1,"column":368}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":16,"column":94},"generated":{"line":1,"column":370}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":373}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":377}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":379}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":381}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":385}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":394}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":404}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":409}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":1,"column":422}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":20,"column":40},"generated":{"line":1,"column":426}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":20,"column":54},"generated":{"line":1,"column":428}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":20,"column":54},"generated":{"line":1,"column":430}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":20,"column":54},"generated":{"line":1,"column":445}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":1,"column":449}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":1,"column":455}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":21,"column":14},"generated":{"line":1,"column":459}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":21,"column":20},"generated":{"line":1,"column":465}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":527}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":531}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":533}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":537}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":539}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":541}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":561}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":564}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":566}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":568}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":17},"generated":{"line":1,"column":574}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":17},"generated":{"line":1,"column":576}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":24,"column":17},"generated":{"line":1,"column":578}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":585}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":1,"column":587}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":25,"column":30},"generated":{"line":1,"column":589}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":25,"column":32},"generated":{"line":1,"column":590}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":25,"column":37},"generated":{"line":1,"column":596}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":25,"column":39},"generated":{"line":1,"column":598}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":25,"column":45},"generated":{"line":1,"column":605}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":609}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":616}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":629}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":632}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":634}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":636}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":657}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":28,"column":32},"generated":{"line":1,"column":660}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":28,"column":45},"generated":{"line":1,"column":673}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":28,"column":52},"generated":{"line":1,"column":675}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":28,"column":55},"generated":{"line":1,"column":677}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":681}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":683}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":685}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":706}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":32},"generated":{"line":1,"column":709}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":42},"generated":{"line":1,"column":719}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":49},"generated":{"line":1,"column":721}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":52},"generated":{"line":1,"column":723}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":55},"generated":{"line":1,"column":725}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":30,"column":62},"generated":{"line":1,"column":727}},{"source":"../../../src/dom/createCanvas.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":730}}],"sources":{"../../../src/dom/createCanvas.ts":"import { IDimensions } from '../classes/Dimensions';\r\nimport { env } from '../env';\r\nimport { getContext2dOrThrow } from './getContext2dOrThrow';\r\nimport { getMediaDimensions } from './getMediaDimensions';\r\nimport { isMediaLoaded } from './isMediaLoaded';\r\n\r\nexport function createCanvas({ width, height }: IDimensions): HTMLCanvasElement {\r\n\r\n  const { createCanvasElement } = env.getEnv()\r\n  const canvas = createCanvasElement()\r\n  canvas.width = width\r\n  canvas.height = height\r\n  return canvas\r\n}\r\n\r\nexport function createCanvasFromMedia(media: HTMLImageElement | HTMLVideoElement | ImageData, dims?: IDimensions): HTMLCanvasElement {\r\n\r\n  const { ImageData } = env.getEnv()\r\n\r\n  if (!(media instanceof ImageData) && !isMediaLoaded(media)) {\r\n    throw new Error('createCanvasFromMedia - media has not finished loading yet')\r\n  }\r\n\r\n  const { width, height } = dims || getMediaDimensions(media)\r\n  const canvas = createCanvas({ width, height })\r\n\r\n  if (media instanceof ImageData) {\r\n    getContext2dOrThrow(canvas).putImageData(media, 0, 0)\r\n  } else {\r\n    getContext2dOrThrow(canvas).drawImage(media, 0, 0, width, height)\r\n  }\r\n  return canvas\r\n}"},"lineCount":null}},"error":null,"hash":"be74288cec4a76b242802f09ac063c21","cacheData":{"env":{}}}