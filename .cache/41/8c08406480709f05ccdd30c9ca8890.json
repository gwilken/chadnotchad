{"id":"GC6G","dependencies":[{"name":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/index.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/src/env/index.ts","includedInParent":true,"mtime":499162500000},{"name":"/Users/gregwilken/code/chadnotchad/package.json","includedInParent":true,"mtime":1568572563000},{"name":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/package.json","includedInParent":true,"mtime":1568420746977},{"name":"./createBrowserEnv","loc":{"line":1,"column":33},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/index.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/createBrowserEnv.js"},{"name":"./createFileSystem","loc":{"line":2,"column":33},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/index.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/createFileSystem.js"},{"name":"./createNodejsEnv","loc":{"line":3,"column":32},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/index.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/createNodejsEnv.js"},{"name":"./isBrowser","loc":{"line":4,"column":26},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/index.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/isBrowser.js"},{"name":"./isNodejs","loc":{"line":5,"column":25},"parent":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/index.js","resolved":"/Users/gregwilken/code/chadnotchad/node_modules/tfjs-image-recognition-base/build/es6/env/isNodejs.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.env=void 0;var e,r=require(\"./createBrowserEnv\"),n=require(\"./createFileSystem\"),t=require(\"./createNodejsEnv\"),a=require(\"./isBrowser\"),i=require(\"./isNodejs\");function s(){if(!e)throw new Error(\"getEnv - environment is not defined, check isNodejs() and isBrowser()\");return e}function o(r){e=r}function c(){(0,a.isBrowser)()&&o((0,r.createBrowserEnv)()),(0,i.isNodejs)()&&o((0,t.createNodejsEnv)())}function d(r){if(e||c(),!e)throw new Error(\"monkeyPatch - environment is not defined, check isNodejs() and isBrowser()\");var n=r.Canvas,t=void 0===n?e.Canvas:n,a=r.Image,i=void 0===a?e.Image:a;e.Canvas=t,e.Image=i,e.createCanvasElement=r.createCanvasElement||function(){return new t},e.createImageElement=r.createImageElement||function(){return new i},e.ImageData=r.ImageData||e.ImageData,e.Video=r.Video||e.Video,e.fetch=r.fetch||e.fetch,e.readFile=r.readFile||e.readFile}var v={getEnv:s,setEnv:o,initialize:c,createBrowserEnv:r.createBrowserEnv,createFileSystem:n.createFileSystem,createNodejsEnv:t.createNodejsEnv,monkeyPatch:d,isBrowser:a.isBrowser,isNodejs:i.isNodejs};exports.env=v,c();"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":0}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":13}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":20}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":35}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":43}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":56}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":57}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":64}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":68}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":76}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":85}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":87}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":8,"column":4},"generated":{"line":1,"column":91}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":93}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":135}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":157}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":159}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":167}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":188}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":198}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":213}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":215}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":223}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":237}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":10,"column":9},"generated":{"line":1,"column":246}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":11,"column":6},"generated":{"line":1,"column":250}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":11,"column":7},"generated":{"line":1,"column":254}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":12,"column":10},"generated":{"line":1,"column":256}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":12,"column":10},"generated":{"line":1,"column":262}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":12,"column":14},"generated":{"line":1,"column":266}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":12,"column":20},"generated":{"line":1,"column":272}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":345}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":352}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":354}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":363}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":17,"column":16},"generated":{"line":1,"column":365}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":368}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":18,"column":16},"generated":{"line":1,"column":370}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":372}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":21,"column":9},"generated":{"line":1,"column":381}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":386}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":388}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":390}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":404}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":407}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":409}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":411}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":433}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":435}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":437}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":450}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":28,"column":11},"generated":{"line":1,"column":453}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":455}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":457}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":477}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":486}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":32,"column":21},"generated":{"line":1,"column":488}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":491}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":33,"column":7},"generated":{"line":1,"column":494}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":497}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":37,"column":7},"generated":{"line":1,"column":502}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":504}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":510}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":38,"column":14},"generated":{"line":1,"column":514}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":38,"column":20},"generated":{"line":1,"column":520}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":598}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":602}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":604}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":606}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":613}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":620}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":624}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":626}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":628}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":635}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":637}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":639}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":641}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":647}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":654}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":658}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":660}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":662}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":668}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":670}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":1,"column":672}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":42,"column":23},"generated":{"line":1,"column":679}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":681}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":43,"column":14},"generated":{"line":1,"column":683}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":1,"column":689}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":691}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":693}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":44,"column":36},"generated":{"line":1,"column":713}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":44,"column":40},"generated":{"line":1,"column":715}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":44,"column":64},"generated":{"line":1,"column":736}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":44,"column":70},"generated":{"line":1,"column":747}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":44,"column":70},"generated":{"line":1,"column":754}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":44,"column":74},"generated":{"line":1,"column":758}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":761}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":45,"column":14},"generated":{"line":1,"column":763}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":45,"column":35},"generated":{"line":1,"column":782}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":45,"column":39},"generated":{"line":1,"column":784}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":45,"column":62},"generated":{"line":1,"column":804}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":45,"column":68},"generated":{"line":1,"column":815}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":45,"column":68},"generated":{"line":1,"column":822}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":826}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":829}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":47,"column":14},"generated":{"line":1,"column":831}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":47,"column":26},"generated":{"line":1,"column":841}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":47,"column":30},"generated":{"line":1,"column":843}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":47,"column":43},"generated":{"line":1,"column":854}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":47,"column":55},"generated":{"line":1,"column":856}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":866}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":48,"column":14},"generated":{"line":1,"column":868}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":48,"column":22},"generated":{"line":1,"column":874}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":48,"column":26},"generated":{"line":1,"column":876}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":48,"column":35},"generated":{"line":1,"column":883}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":48,"column":47},"generated":{"line":1,"column":885}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":49,"column":2},"generated":{"line":1,"column":891}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":1,"column":893}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":49,"column":22},"generated":{"line":1,"column":899}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":49,"column":26},"generated":{"line":1,"column":901}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":49,"column":35},"generated":{"line":1,"column":908}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":49,"column":47},"generated":{"line":1,"column":910}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":916}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":1,"column":918}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":927}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":50,"column":29},"generated":{"line":1,"column":929}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":50,"column":41},"generated":{"line":1,"column":939}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":50,"column":53},"generated":{"line":1,"column":941}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":53,"column":7},"generated":{"line":1,"column":950}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":954}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":53,"column":19},"generated":{"line":1,"column":956}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":957}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":964}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":966}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":973}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":1,"column":975}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":986}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":988}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":57,"column":18},"generated":{"line":1,"column":1005}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":53,"column":19},"generated":{"line":1,"column":1007}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":1024}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":58,"column":18},"generated":{"line":1,"column":1041}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":53,"column":19},"generated":{"line":1,"column":1043}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":1060}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":59,"column":17},"generated":{"line":1,"column":1076}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":53,"column":19},"generated":{"line":1,"column":1078}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":1094}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":60,"column":13},"generated":{"line":1,"column":1106}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":1108}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":61,"column":11},"generated":{"line":1,"column":1118}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":53,"column":19},"generated":{"line":1,"column":1120}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":1130}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":1139}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":1141}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1151}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1159}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1163}},{"source":"../../../src/env/index.ts","name":null,"original":{"line":65,"column":0},"generated":{"line":1,"column":1165}}],"sources":{"../../../src/env/index.ts":"import { createBrowserEnv } from './createBrowserEnv';\r\nimport { createFileSystem } from './createFileSystem';\r\nimport { createNodejsEnv } from './createNodejsEnv';\r\nimport { isBrowser } from './isBrowser';\r\nimport { isNodejs } from './isNodejs';\r\nimport { Environment } from './types';\r\n\r\nlet environment: Environment | null\r\n\r\nfunction getEnv(): Environment {\r\n  if (!environment) {\r\n    throw new Error('getEnv - environment is not defined, check isNodejs() and isBrowser()')\r\n  }\r\n  return environment\r\n}\r\n\r\nfunction setEnv(env: Environment) {\r\n  environment = env\r\n}\r\n\r\nfunction initialize() {\r\n  // check for isBrowser() first to prevent electron renderer process\r\n  // to be initialized with wrong environment due to isNodejs() returning true\r\n  if (isBrowser()) {\r\n    setEnv(createBrowserEnv())\r\n  }\r\n  if (isNodejs()) {\r\n    setEnv(createNodejsEnv())\r\n  }\r\n}\r\n\r\nfunction monkeyPatch(env: Partial<Environment>) {\r\n  if (!environment) {\r\n    initialize()\r\n  }\r\n\r\n  if (!environment) {\r\n    throw new Error('monkeyPatch - environment is not defined, check isNodejs() and isBrowser()')\r\n  }\r\n\r\n  const { Canvas = environment.Canvas, Image = environment.Image } = env\r\n  environment.Canvas = Canvas\r\n  environment.Image = Image\r\n  environment.createCanvasElement = env.createCanvasElement || (() => new Canvas())\r\n  environment.createImageElement = env.createImageElement || (() => new Image())\r\n\r\n  environment.ImageData = env.ImageData || environment.ImageData\r\n  environment.Video = env.Video || environment.Video\r\n  environment.fetch = env.fetch || environment.fetch\r\n  environment.readFile = env.readFile || environment.readFile\r\n}\r\n\r\nexport const env = {\r\n  getEnv,\r\n  setEnv,\r\n  initialize,\r\n  createBrowserEnv,\r\n  createFileSystem,\r\n  createNodejsEnv,\r\n  monkeyPatch,\r\n  isBrowser,\r\n  isNodejs\r\n}\r\n\r\ninitialize()\r\n\r\nexport * from './types'\r\n"},"lineCount":null}},"error":null,"hash":"ca2fe29f87f7978a0a06c645a350dc0d","cacheData":{"env":{}}}